(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{154:function(e,t,a){},156:function(e,t,a){},158:function(e,t,a){},161:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),l=a.n(c),o=a(27),u=a(17),s=a.n(u),i=a(74),d=a.n(i),m=a(72),E=a.n(m),f=a(31),p=a(73),C=a.n(p);function h(e){var t=e.onDelete,a=Object(f.a)(e,["onDelete"]);return r.a.createElement("tr",null,r.a.createElement("td",null,a.firstName),r.a.createElement("td",null,a.lastName),r.a.createElement("td",null,r.a.createElement("a",{href:"tel:".concat(a.phone)},a.phone)),r.a.createElement("td",null,r.a.createElement("a",{href:"mailto:".concat(a.email)},a.email)),r.a.createElement("td",null,a.street),r.a.createElement("td",null,a.city),r.a.createElement("td",null,a.state),r.a.createElement("td",null,a.zip),r.a.createElement("td",null,r.a.createElement(C.a,null,r.a.createElement(s.a,{variant:"outline-danger",size:"sm",onClick:function(){return t(a)}},r.a.createElement("span",{className:"glyphicon glyphicon-trash"},"Delete")))))}var v=a(11),b=a.n(v),O=a(10),N=a(32),w=a.n(N),y="SET_CONTACTS",T="CONTACTS_REQUEST_ERROR",j="CONTACTS_REQUEST_SUCCESS",D="SHOW_DELETE_CONTACT_CONFIRM",A="HIDE_DELETE_CONTACT_CONFIRM",g="SHOW_ADD_NEW_CONTACT_MODAL",_="HIDE_ADD_NEW_CONTACT_MODAL";function x(e){return{type:T,payload:e}}function S(){return{type:j}}function k(e){return{type:A}}function M(){return{type:_}}var I=b.a.mark(Z),B=b.a.mark(q),z=b.a.mark(Q),L=b.a.mark(X),R=b.a.mark(Y),F=b.a.mark(K),H=b.a.mark(ee),U="GET_CONTACTS",P="DELETE_CONTACT",W="ADD_CONTACT",G={GET_CONTACTS:"http://localhost:8080/api/v1/contacts",NEW_CONTACT:"http://localhost:8080/api/v1/contacts",DELETE_CONTACT:function(e){return"http://localhost:8080/api/v1/contacts/".concat(e)}};function Z(){var e;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(O.b)($);case 3:return e=t.sent,t.next=6,Object(O.c)((a=e.data,{type:y,payload:a}));case 6:return t.next=8,Object(O.c)(S());case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(O.c)(x("Unable to get contacts at this time. Please try again later."));case 14:case"end":return t.stop()}var a},I,this,[[0,10]])}function $(){return w.a.get(G.GET_CONTACTS)}function q(e){var t;return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(O.b)(function(){return J(e)});case 3:return a.next=5,Object(O.c)(S());case 5:return a.next=7,Object(O.c)({type:U});case 7:return a.next=9,Object(O.c)(k());case 9:a.next=21;break;case 11:a.prev=11,a.t0=a.catch(0),a.t1=a.t0.status,a.next=404===a.t1?16:18;break;case 16:return t="Unable to delete contact. Contact is already deleted.",a.abrupt("break",19);case 18:t="Your request to delete a contact has failed. Please try again later.";case 19:return a.next=21,Object(O.c)(x(t));case 21:case"end":return a.stop()}},B,this,[[0,11]])}function J(e){return w.a.delete(G.DELETE_CONTACT(e))}function Q(e){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(O.b)(function(){return V(e)});case 3:return t.next=5,Object(O.c)(S());case 5:return t.next=7,Object(O.c)({type:U});case 7:return t.next=9,Object(O.c)(M());case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=15,Object(O.c)(x("Unable to create a new contact at this time. Please try again later."));case 15:case"end":return t.stop()}},z,this,[[0,11]])}function V(e){return w.a.post(G.NEW_CONTACT,e)}function X(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)(U,Z);case 2:case"end":return e.stop()}},L,this)}function Y(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)(P,function(e){return q(e.payload)});case 2:case"end":return e.stop()}},R,this)}function K(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)(W,function(e){return Q(e.payload)});case 2:case"end":return e.stop()}},F,this)}function ee(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)([X(),Y(),K()]);case 2:case"end":return e.stop()}},H,this)}var te=Object(o.b)(function(e){return{contacts:e.contacts}},function(e){return{getContacts:function(){return e({type:U})},deleteContact:function(t){return e(function(e){return{type:D,payload:e}}(t))}}})(function(e){var t=e.contacts,a=e.getContacts,c=e.deleteContact;Object(n.useEffect)(function(){a()},[]);var l,o=(l=t,E()(l,["lastName","firstName","state","city","zip","street","email"]));return r.a.createElement(d.a,{hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"First Name"),r.a.createElement("th",null,"Last Name"),r.a.createElement("th",null,"Phone Number"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Street Address"),r.a.createElement("th",null,"City"),r.a.createElement("th",null,"State"),r.a.createElement("th",null,"Zip"),r.a.createElement("th",null))),r.a.createElement("tbody",null,o.map(function(e){return r.a.createElement(h,Object.assign({key:e.uuid,onDelete:c},e))})))}),ae=a(43),ne=a.n(ae);function re(){return r.a.createElement(ne.a,{bg:"primary",variant:"dark"},r.a.createElement(ne.a.Brand,null,"Contacts Manager"))}var ce=a(16),le=a(15),oe=a.n(le),ue=a(19),se=a.n(ue),ie=a(20),de=a.n(ie);function me(e){var t=e.as,a=e.controlId,n=e.label,c=e.value,l=e.onChange,o=e.onBlur,u=e.visited,s=e.error,i=Object(f.a)(e,["as","controlId","label","value","onChange","onBlur","visited","error"]),d={};return t&&(d.as=t),r.a.createElement(se.a.Group,Object.assign({},d,{controlId:a}),r.a.createElement(se.a.Label,null,n),r.a.createElement(se.a.Control,Object.assign({value:c,onChange:l,onBlur:o,isInvalid:u&&s,isValid:u&&!s},i)),r.a.createElement(se.a.Control.Feedback,{type:"invalid"},s))}function Ee(e){return/^\s*$/.test(e)}function fe(e){var t=Object(n.useState)(e),a=Object(ce.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(!1),o=Object(ce.a)(l,2);return[r,function(e){c(e.target.value)},o[0],o[1]]}function pe(e){var t=e.contact,a=void 0===t?{}:t,c=e.close,l=e.onSave,o=e.show,u=fe(a.firstName||""),i=Object(ce.a)(u,4),d=i[0],m=i[1],E=i[2],f=i[3],p=fe(a.lastName||""),C=Object(ce.a)(p,4),h=C[0],v=C[1],b=C[2],O=C[3],N=fe(a.state||""),w=Object(ce.a)(N,4),y=w[0],T=w[1],j=w[2],D=w[3],A=fe(a.city||""),g=Object(ce.a)(A,4),_=g[0],x=g[1],S=g[2],k=g[3],M=fe(a.state||""),I=Object(ce.a)(M,4),B=I[0],z=I[1],L=I[2],R=I[3],F=fe(a.zip||""),H=Object(ce.a)(F,4),U=H[0],P=H[1],W=H[2],G=H[3],Z=fe(a.phone||""),$=Object(ce.a)(Z,4),q=$[0],J=$[1],Q=$[2],V=$[3],X=fe(a.email||""),Y=Object(ce.a)(X,4),K=Y[0],ee=Y[1],te=Y[2],ae=Y[3],ne=Object(n.useRef)();function re(){var e=!!(y||_||B||U),t={};return e&&(t.street=Ee(y)?"Enter a valid address":null,t.city=Ee(_)?"Enter a valid city":null,t.state=Ee(B)?"Enter a valid state":null,t.zip=function(e){return/^\d{5}$/.test(e)}(U)?null:"Enter a valid 5 digit zip"),D(e),k(e),R(e),G(e),t}var le=Object(n.useMemo)(function(){var e=re();return e.firstName=Ee(d)?"First name is required":null,e.lastName=Ee(h)?"Last name is required":null,e.email=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(K)?null:"Enter a valid email",e.phone=function(e){return/^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}$/.test(e)}(q)?null:"Enter a valid phone",e},[d,h,y,_,B,U,q,K]);function ue(e){for(var t in e.preventDefault(),le)if(le[t])return f(!0),O(!0),ae(!0),void V(!0);l({firstName:d,lastName:h,street:y,city:_,state:B,zip:U,phone:q,email:K}),ne.current.reset()}function ie(){c(),ne.current.reset()}return r.a.createElement(oe.a,{size:"lg",show:o,onHide:ie},r.a.createElement("form",{onSubmit:ue,ref:ne},r.a.createElement(oe.a.Header,{closeButton:!0},r.a.createElement(oe.a.Title,null,a.firstName?"Editing Info for ".concat(d," ").concat(h):"New Contact")),r.a.createElement(oe.a.Body,null,r.a.createElement(se.a.Row,null,r.a.createElement(me,{as:de.a,controlId:"firstName",label:"First Name",value:d,onChange:m,onBlur:function(){return!E&&f(!!d)},visited:E,error:le.firstName}),r.a.createElement(me,{as:de.a,controlId:"lastName",label:"Last Name",value:h,onChange:v,onBlur:function(){return!b&&O(!!h)},visited:b,error:le.lastName})),r.a.createElement(se.a.Row,null,r.a.createElement(me,{as:de.a,controlId:"email",label:"Email",value:K,onChange:ee,onBlur:function(){return!te&&ae(!!K)},visited:te,error:le.email,type:"email"}),r.a.createElement(me,{as:de.a,controlId:"phone",label:"Phone Number",value:q,onChange:J,onBlur:function(){return!Q&&V(!!q)},visited:Q,error:le.phone,type:"tel"})),r.a.createElement(me,{controlId:"street",label:"Address",value:y,onChange:T,onBlur:re,visited:j,error:le.street,placeholder:"1234 Main St"}),r.a.createElement(se.a.Row,null,r.a.createElement(me,{as:de.a,controlId:"city",label:"City",value:_,onChange:x,onBlur:re,visited:S,error:le.city}),r.a.createElement(me,{as:de.a,controlId:"state",label:"State",value:B,onChange:z,onBlur:re,visited:L,error:le.state}),r.a.createElement(me,{as:de.a,controlId:"zip",label:"Zip",value:U,onChange:P,onBlur:re,visited:W,error:le.zip}))),r.a.createElement(oe.a.Footer,null,r.a.createElement(s.a,{type:"submit",onClick:ue,variant:"success"},"Save"),r.a.createElement(s.a,{onClick:ie,variant:"secondary"},"Close"))))}function Ce(e){var t=e.show,a=e.close,n=e.contact,c=e.onDelete;return n?r.a.createElement(oe.a,{size:"sm",show:t},r.a.createElement(oe.a.Header,{closeButton:!0,onHide:a},r.a.createElement(oe.a.Title,null,"Deleting ","".concat(n.firstName," ").concat(n.lastName))),r.a.createElement(oe.a.Body,null,r.a.createElement("p",null,"Are you sure you want to delete ","".concat(n.firstName," ").concat(n.lastName),"?")),r.a.createElement(oe.a.Footer,null,r.a.createElement(s.a,{onClick:function(){return c(n.uuid)},variant:"danger"},"Delete"),r.a.createElement(s.a,{onClick:a,variant:"secondary"},"Close"))):null}a(154);var he=Object(o.b)(function(e){return{showAddContactModal:e.showAddNewContactModal,showDeleteContactModal:e.showDeleteContactConfirm,contactToDelete:e.contactToDelete}},function(e){return{showAddNewContactModal:function(){return e({type:g})},hideAddContactModal:function(){return e(M())},hideDeleteContactModal:function(){return e(k())},deleteContact:function(t){return e({type:P,payload:t})},addContact:function(t){return e({type:W,payload:t})}}})(function(e){var t=e.showAddNewContactModal,a=e.showAddContactModal,n=e.hideAddContactModal,c=e.addContact,l=e.showDeleteContactModal,o=e.contactToDelete,u=e.hideDeleteContactModal,i=e.deleteContact;return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(re,null)),r.a.createElement("div",{className:"mainContent"},r.a.createElement("h1",{className:"pageTitle"},"Maine Doe's Contacts"),r.a.createElement(s.a,{onClick:t,className:"addContactButton",variant:"outline-success"},"Add Contact"),r.a.createElement(te,null)),r.a.createElement(pe,{show:a,close:n,onSave:c}),r.a.createElement(Ce,{show:l,contact:o,close:u,onDelete:i}))}),ve=a(25),be=a(75),Oe=a(21),Ne={contacts:[],error:"",showAddNewContactModal:!1,showDeleteContactConfirm:!1,contactToDelete:null},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Oe.a)({},Ne),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(Oe.a)({},e,{contacts:t.payload});case j:return Object(Oe.a)({},e,{error:""});case T:return Object(Oe.a)({},e,{error:t.payload});case g:return Object(Oe.a)({},e,{showAddNewContactModal:!0});case _:return Object(Oe.a)({},e,{showAddNewContactModal:!1});case D:return Object(Oe.a)({},e,{showDeleteContactConfirm:!0,contactToDelete:t.payload});case A:return Object(Oe.a)({},e,{showDeleteContactConfirm:!1});default:return e}};a(156),a(158);var ye=function(e){var t=Object(be.a)(),a=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ve.c,n=Object(ve.d)(we,e,a(Object(ve.a)(t)));return t.run(ee),n}();l.a.render(r.a.createElement(o.a,{store:ye},r.a.createElement(he,null)),document.getElementById("root"))},76:function(e,t,a){e.exports=a(161)}},[[76,2,1]]]);
//# sourceMappingURL=main.9aca1df6.chunk.js.map